/*
------------------------------------------------------------
üìò Problem: 1484. Group Sold Products By The Date
Difficulty: Easy
Platform: LeetCode SQL
------------------------------------------------------------

üß± Table: Activities
+-------------+----------+
| Column Name | Type     |
+-------------+----------+
| sell_date   | date     |
| product     | varchar  |
+-------------+----------+
There is no primary key (column with unique values).
This table may contain duplicate rows.

Each row shows a product and the date it was sold.

------------------------------------------------------------
üéØ Goal:
For each date, find:
  ‚Ä¢ The number of **different products** sold (`num_sold`)
  ‚Ä¢ The **names of those products**, joined together in a comma-separated string,
    sorted in lexicographic (A‚ÄìZ) order.

Return the result ordered by `sell_date`.

------------------------------------------------------------
üìä Example Input:

Activities table:
+------------+------------+
| sell_date  | product    |
+------------+------------+
| 2020-05-30 | Headphone  |
| 2020-06-01 | Pencil     |
| 2020-06-02 | Mask       |
| 2020-05-30 | Basketball |
| 2020-06-01 | Bible      |
| 2020-06-02 | Mask       |
| 2020-05-30 | T-shirt    |
+------------+------------+

------------------------------------------------------------
üì§ Expected Output:
+------------+----------+------------------------------+
| sell_date  | num_sold | products                     |
+------------+----------+------------------------------+
| 2020-05-30 | 3        | Basketball,Headphone,T-shirt |
| 2020-06-01 | 2        | Bible,Pencil                 |
| 2020-06-02 | 1        | Mask                         |
+------------+----------+------------------------------+

------------------------------------------------------------
üß† Explanation:

For 2020-05-30 ‚Üí Products sold: [Headphone, Basketball, T-shirt]
Sorted ‚Üí [Basketball, Headphone, T-shirt]
num_sold = 3
products = 'Basketball,Headphone,T-shirt'

For 2020-06-01 ‚Üí Products sold: [Pencil, Bible]
Sorted ‚Üí [Bible, Pencil]
num_sold = 2
products = 'Bible,Pencil'

For 2020-06-02 ‚Üí Products sold: [Mask]
num_sold = 1
products = 'Mask'

------------------------------------------------------------
üß© SQL Logic (Step-by-Step):

1Ô∏è‚É£ Use `GROUP BY sell_date` to process each date.
2Ô∏è‚É£ Use `COUNT(DISTINCT product)` ‚Üí to count unique products.
3Ô∏è‚É£ Use `GROUP_CONCAT(DISTINCT product ORDER BY product)` ‚Üí 
    to combine product names into a single string, separated by commas.
4Ô∏è‚É£ Order the results by `sell_date`.

Note:
- `GROUP_CONCAT()` is MySQL syntax.
- In other SQL flavors, similar functions exist (like STRING_AGG in PostgreSQL).

------------------------------------------------------------
‚úÖ Final SQL Solution:
*/

SELECT 
    sell_date,
    COUNT(DISTINCT product) AS num_sold,
    GROUP_CONCAT(DISTINCT product ORDER BY product SEPARATOR ',') AS products
FROM Activities
GROUP BY sell_date
ORDER BY sell_date;

/*
------------------------------------------------------------
üßæ Output Explanation:
Each row shows:
- The date
- Number of unique products sold that day
- A comma-separated list of products sorted alphabetically

Example:
| sell_date  | num_sold | products                     |
|-------------|----------|------------------------------|
| 2020-05-30  | 3        | Basketball,Headphone,T-shirt |

------------------------------------------------------------
üìÇ File Info:
Filename: 1484_Group_Sold_Products_By_The_Date.sql
Author: Rushikesh Bhagwat
GitHub Repo: Top50 SQL (LeetCode Solutions with Explanations)
------------------------------------------------------------
*/
